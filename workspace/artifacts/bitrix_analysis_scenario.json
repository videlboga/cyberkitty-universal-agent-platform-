{
  "scenario_id": "bitrix_market_analysis",
  "description": "–ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –ë–∏—Ç—Ä–∏–∫—Å24 —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —É–º–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤",
  "initial_context": {
    "project_name": "–ë–∏—Ç—Ä–∏–∫—Å24 –ú–∞—Ä–∫–µ—Ç –ê–Ω–∞–ª–∏–∑",
    "analysis_stage": "start",
    "tasks_completed": [],
    "findings": {}
  },
  "steps": [
    {
      "id": "start",
      "type": "start",
      "params": {
        "message": "üöÄ –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞ —Ä—ã–Ω–∫–∞ –ë–∏—Ç—Ä–∏–∫—Å24 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
      },
      "next_step": "analyze_user_request"
    },
    {
      "id": "analyze_user_request",
      "type": "llm_classify_request",
      "params": {
        "user_message": "{user_message}"
      },
      "next_step": "route_to_research"
    },
    {
      "id": "route_to_research",
      "type": "llm_route_task",
      "params": {
        "task": "–ù–∞–π–¥–∏ —Ç–æ–ø-20 —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ –ë–∏—Ç—Ä–∏–∫—Å24 –º–∞—Ä–∫–µ—Ç–µ –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏",
        "priority": "high"
      },
      "next_step": "execute_market_research"
    },
    {
      "id": "execute_market_research",
      "type": "conditional_execute",
      "params": {
        "condition": "selected_agent == 'sherlock'",
        "true_step": "sherlock_research_phase",
        "false_step": "route_to_data_analysis"
      }
    },
    {
      "id": "sherlock_research_phase",
      "type": "action",
      "params": {
        "action_type": "research",
        "message": "üîç SherlockAgent –∏—Å—Å–ª–µ–¥—É–µ—Ç —Ä—ã–Ω–æ–∫ –ë–∏—Ç—Ä–∏–∫—Å24...",
        "research_tasks": [
          "–ê–Ω–∞–ª–∏–∑ —Ç–æ–ø-20 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏",
          "–ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏", 
          "–ò–∑—É—á–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π",
          "–ê–Ω–∞–ª–∏–∑ —Ü–µ–Ω–æ–≤–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏"
        ]
      },
      "next_step": "route_to_data_analysis"
    },
    {
      "id": "route_to_data_analysis",
      "type": "llm_route_task",
      "params": {
        "task": "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞–≥—Ä—É–∑–æ–∫, —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –∏ –≤—ã—è–≤–∏ —Ç—Ä–µ–Ω–¥—ã –≤ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –ë–∏—Ç—Ä–∏–∫—Å24",
        "priority": "high"
      },
      "next_step": "execute_data_analysis"
    },
    {
      "id": "execute_data_analysis",
      "type": "conditional_execute",
      "params": {
        "condition": "selected_agent == 'nova'",
        "true_step": "nova_analysis_phase",
        "false_step": "route_to_ux_analysis"
      }
    },
    {
      "id": "nova_analysis_phase",
      "type": "action",
      "params": {
        "action_type": "data_analysis",
        "message": "üìä NovaAgent –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ...",
        "analysis_tasks": [
          "–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∑–∞–≥—Ä—É–∑–æ–∫ –∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤",
          "–í—ã—è–≤–ª–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏",
          "–ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ü–µ–Ω—ã –∏ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏",
          "–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–µ–Ω–¥–æ–≤"
        ]
      },
      "next_step": "route_to_ux_analysis"
    },
    {
      "id": "route_to_ux_analysis",
      "type": "llm_route_task",
      "params": {
        "task": "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –≤—ã—è–≤–∏ UX –ø—Ä–æ–±–ª–µ–º—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞",
        "priority": "critical"
      },
      "next_step": "execute_ux_analysis"
    },
    {
      "id": "execute_ux_analysis",
      "type": "conditional_execute",
      "params": {
        "condition": "selected_agent == 'artemis'",
        "true_step": "artemis_ux_phase",
        "false_step": "route_to_prototyping"
      }
    },
    {
      "id": "artemis_ux_phase",
      "type": "action",
      "params": {
        "action_type": "ux_analysis",
        "message": "üé® ArtemisAgent –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç UX...",
        "ux_tasks": [
          "–ê–Ω–∞–ª–∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ —Ç–æ–ø-5 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π",
          "–í—ã—è–≤–ª–µ–Ω–∏–µ UX –ø—Ä–æ–±–ª–µ–º –∏ –±–æ–ª–µ–≤—ã—Ö —Ç–æ—á–µ–∫",
          "–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫ –¥–∏–∑–∞–π–Ω–∞",
          "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —É–ª—É—á—à–µ–Ω–∏—è"
        ]
      },
      "next_step": "route_to_prototyping"
    },
    {
      "id": "route_to_prototyping",
      "type": "llm_route_task",
      "params": {
        "task": "–°–æ–∑–¥–∞–π –∫–æ–Ω—Ü–µ–ø—Ç—ã –∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã —É–ª—É—á—à–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –ª—É—á—à–∏–º UX –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞",
        "priority": "critical"
      },
      "next_step": "execute_prototyping"
    },
    {
      "id": "execute_prototyping",
      "type": "conditional_execute",
      "params": {
        "condition": "selected_agent == 'artemis'",
        "true_step": "artemis_prototype_phase",
        "false_step": "route_to_technical_spec"
      }
    },
    {
      "id": "artemis_prototype_phase",
      "type": "action",
      "params": {
        "action_type": "prototyping",
        "message": "üé® ArtemisAgent —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã...",
        "prototype_tasks": [
          "–ö–æ–Ω—Ü–µ–ø—Ç —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ CRM –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è",
          "–ü—Ä–æ—Ç–æ—Ç–∏–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏",
          "–î–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –ë–∏—Ç—Ä–∏–∫—Å24",
          "Wireframes –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏"
        ]
      },
      "next_step": "route_to_technical_spec"
    },
    {
      "id": "route_to_technical_spec",
      "type": "llm_route_task",
      "params": {
        "task": "–°–æ–∑–¥–∞–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π",
        "priority": "high"
      },
      "next_step": "execute_technical_spec"
    },
    {
      "id": "execute_technical_spec",
      "type": "conditional_execute",
      "params": {
        "condition": "selected_agent == 'ada'",
        "true_step": "ada_technical_phase",
        "false_step": "generate_final_report"
      }
    },
    {
      "id": "ada_technical_phase",
      "type": "action",
      "params": {
        "action_type": "technical_specification",
        "message": "üíª AdaAgent —Å–æ–∑–¥–∞–µ—Ç —Ç–µ—Ö—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é...",
        "technical_tasks": [
          "API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ë–∏—Ç—Ä–∏–∫—Å24",
          "–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è",
          "–°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π",
          "–ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö"
        ]
      },
      "next_step": "generate_final_report"
    },
    {
      "id": "generate_final_report",
      "type": "llm_route_task",
      "params": {
        "task": "–°–æ–∑–¥–∞–π —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –ë–∏—Ç—Ä–∏–∫—Å24 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è",
        "priority": "critical"
      },
      "next_step": "compile_report"
    },
    {
      "id": "compile_report",
      "type": "action",
      "params": {
        "action_type": "report_generation",
        "message": "üìä –ö–æ–º–ø–∏–ª—è—Ü–∏—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞ —Ä—ã–Ω–∫–∞ –ë–∏—Ç—Ä–∏–∫—Å24",
        "report_sections": [
          "–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ä—ã–Ω–∫–∞",
          "–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö",
          "UX –∞–Ω–∞–ª–∏–∑",
          "–ü—Ä–æ—Ç–æ—Ç–∏–ø—ã —Ä–µ—à–µ–Ω–∏–π",
          "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è",
          "–ö–ª—é—á–µ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"
        ]
      },
      "next_step": "send_results"
    },
    {
      "id": "send_results",
      "type": "channel_action",
      "params": {
        "action": "send_message",
        "chat_id": "{chat_id}",
        "text": "‚úÖ –ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞ –ë–∏—Ç—Ä–∏–∫—Å24 –∑–∞–≤–µ—Ä—à–µ–Ω!\n\nüìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:\n- –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–æ —Ç–æ–ø-20 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π\n- –í—ã—è–≤–ª–µ–Ω—ã –∫–ª—é—á–µ–≤—ã–µ —Ç—Ä–µ–Ω–¥—ã\n- –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã UX –ø—Ä–æ–±–ª–µ–º—ã\n- –°–æ–∑–¥–∞–Ω—ã –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã —É–ª—É—á—à–µ–Ω–∏–π\n- –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ —Ç–µ—Ö—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è\n\nüéØ –ì–æ—Ç–æ–≤—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º UX!"
      },
      "next_step": "end"
    },
    {
      "id": "end",
      "type": "end",
      "params": {
        "status": "completed",
        "message": "–ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞ –ë–∏—Ç—Ä–∏–∫—Å24 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω"
      }
    }
  ]
} 