# === LLM-FRIENDLY YAML –°–¶–ï–ù–ê–†–ò–ô ===
# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Universal Agent Platform

scenario_id: simple_yaml_test
description: "LLM-friendly –¥–µ–º–æ —Å—Ü–µ–Ω–∞—Ä–∏–π —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ —à–∞–≥–æ–≤"

initial_context:
  yaml_version: "2.0"
  llm_friendly: true
  architecture: "modern_universal"

steps:
  # === –°–û–í–†–ï–ú–ï–ù–ù–´–ô –°–¢–ê–†–¢ ===
  - id: start
    type: start
    next_step: welcome_llm

  # === –ü–†–ê–í–ò–õ–¨–ù–´–ô CHANNEL_ACTION ===
  - id: welcome_llm
    type: channel_action
    params:
      action: send_message
      chat_id: "{chat_id}"
      text: |
        üéØ **LLM-Friendly YAML –°—Ü–µ–Ω–∞—Ä–∏–π**
        
        ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
        ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã —à–∞–≥–æ–≤  
        ‚úÖ KISS –ø—Ä–∏–Ω—Ü–∏–ø—ã
        ‚úÖ DRY –ø–æ–¥—Ö–æ–¥
        
        üìÑ YAML –≤–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥–∞
        üîß channel_action –≤–º–µ—Å—Ç–æ telegram_*
        
        –ù–∞–ø–∏—à–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è...
      parse_mode: HTML
    next_step: wait_input

  # === –°–û–í–†–ï–ú–ï–ù–ù–´–ô INPUT ===
  - id: wait_input
    type: input
    params:
      prompt: "–û–∂–∏–¥–∞—é –≤–∞—à –æ—Ç–≤–µ—Ç..."
      input_type: text
      output_var: user_response
    next_step: process_response

  # === CONDITIONAL LOGIC ===
  - id: process_response
    type: branch
    params:
      conditions:
        - condition: "len(context.get('user_response', '')) > 10"
          next_step: detailed_response
        - condition: "context.get('user_response', '').lower() == '—Ç–µ—Å—Ç'"
          next_step: test_response
      default_next_step: simple_response

  # === –î–ï–¢–ê–õ–¨–ù–´–ô –û–¢–í–ï–¢ ===
  - id: detailed_response
    type: channel_action
    params:
      action: send_message
      chat_id: "{chat_id}"
      text: |
        üìù **–†–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω!**
        
        –í–∞—à –æ—Ç–≤–µ—Ç: "{user_response}"
        
        üîç –î–ª–∏–Ω–∞: {user_response|length} —Å–∏–º–≤–æ–ª–æ–≤
        ‚úÖ –û—Ç–ª–∏—á–Ω–æ! –î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å.
      parse_mode: HTML
    next_step: final_menu

  # === –¢–ï–°–¢–û–í–´–ô –û–¢–í–ï–¢ ===
  - id: test_response
    type: channel_action
    params:
      action: send_message
      chat_id: "{chat_id}"
      text: |
        üß™ **–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!**
        
        üîß LLM-friendly –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
        ‚úÖ YAML –∑–∞–≥—Ä—É–∑–∫–∞ —É—Å–ø–µ—à–Ω–∞
        ‚úÖ –¢–∏–ø—ã —à–∞–≥–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É
      parse_mode: HTML
    next_step: final_menu

  # === –ü–†–û–°–¢–û–ô –û–¢–í–ï–¢ ===
  - id: simple_response
    type: channel_action
    params:
      action: send_message
      chat_id: "{chat_id}"
      text: |
        üëç **–û—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω: "{user_response}"**
        
        –°–ø–∞—Å–∏–±–æ –∑–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ YAML —Å—Ü–µ–Ω–∞—Ä–∏—è!
      parse_mode: HTML
    next_step: final_menu

  # === –§–ò–ù–ê–õ–¨–ù–û–ï –ú–ï–ù–Æ ===
  - id: final_menu
    type: channel_action
    params:
      action: send_buttons
      chat_id: "{chat_id}"
      text: "–ß—Ç–æ –¥–∞–ª—å—à–µ?"
      buttons:
        - - text: "üîÑ –ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Ç–µ—Å—Ç"
            callback_data: "restart_test"
        - - text: "üìä –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç"
            callback_data: "show_context"  
        - - text: "‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å"
            callback_data: "finish_test"
    next_step: end

  # === –°–û–í–†–ï–ú–ï–ù–ù–´–ô END ===
  - id: end
    type: end 