# === –ë–ê–ó–û–í–´–ô LLM-FRIENDLY –®–ê–ë–õ–û–ù ===
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –∏ –∞–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥ —Å–≤–æ–∏ –∑–∞–¥–∞—á–∏

scenario_id: basic_template
description: "–ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤"

# –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏—è
initial_context:
  version: "1.0"
  template_type: "basic"
  
steps:
  # === –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô –°–¢–ê–†–¢ ===
  - id: start
    type: start
    next_step: welcome

  # === –ü–†–ò–í–ï–¢–°–¢–í–ò–ï ===
  - id: welcome
    type: channel_action
    params:
      action: send_message
      chat_id: "{chat_id}"
      text: |
        üëã **–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!**
        
        –≠—Ç–æ –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Å—Ü–µ–Ω–∞—Ä–∏—è.
        –ê–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ –µ–≥–æ –ø–æ–¥ —Å–≤–æ–∏ –∑–∞–¥–∞—á–∏.
        
        –ù–∞–ø–∏—à–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è...
      parse_mode: HTML
    next_step: wait_input

  # === –û–ñ–ò–î–ê–ù–ò–ï –í–í–û–î–ê ===
  - id: wait_input
    type: input
    params:
      prompt: "–ñ–¥—É –≤–∞—à –æ—Ç–≤–µ—Ç..."
      output_var: user_input
    next_step: process_input

  # === –û–ë–†–ê–ë–û–¢–ö–ê –í–í–û–î–ê ===
  - id: process_input
    type: branch
    params:
      conditions:
        - condition: "context.get('user_input', '').lower() == '–ø–æ–º–æ—â—å'"
          next_step: show_help
        - condition: "context.get('user_input', '').lower() == '–º–µ–Ω—é'"
          next_step: show_menu
      default_next_step: echo_response

  # === –°–ü–†–ê–í–ö–ê ===
  - id: show_help
    type: channel_action
    params:
      action: send_message
      chat_id: "{chat_id}"
      text: |
        üìñ **–°–ø—Ä–∞–≤–∫–∞**
        
        –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
        ‚Ä¢ "–ø–æ–º–æ—â—å" - —ç—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞
        ‚Ä¢ "–º–µ–Ω—é" - –ø–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é
        ‚Ä¢ –ª—é–±–æ–π —Ç–µ–∫—Å—Ç - —ç—Ö–æ –æ—Ç–≤–µ—Ç
      parse_mode: HTML
    next_step: final_menu

  # === –ú–ï–ù–Æ ===
  - id: show_menu
    type: channel_action
    params:
      action: send_buttons
      chat_id: "{chat_id}"
      text: "–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:"
      buttons:
        - - text: "üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ"
            callback_data: "restart"
        - - text: "‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"
            callback_data: "info"
        - - text: "‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å"
            callback_data: "finish"
    next_step: end

  # === –≠–•–û –û–¢–í–ï–¢ ===
  - id: echo_response
    type: channel_action
    params:
      action: send_message
      chat_id: "{chat_id}"
      text: |
        üí¨ **–í—ã –Ω–∞–ø–∏—Å–∞–ª–∏:** "{user_input}"
        
        –î–ª–∏–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è: {user_input|length} —Å–∏–º–≤–æ–ª–æ–≤
        
        –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å "–ø–æ–º–æ—â—å" –∏–ª–∏ "–º–µ–Ω—é"
      parse_mode: HTML
    next_step: final_menu

  # === –§–ò–ù–ê–õ–¨–ù–û–ï –ú–ï–ù–Æ ===
  - id: final_menu
    type: channel_action
    params:
      action: send_buttons
      chat_id: "{chat_id}"
      text: "–ß—Ç–æ –¥–∞–ª—å—à–µ?"
      buttons:
        - - text: "üîÑ –ï—â–µ —Ä–∞–∑"
            callback_data: "restart"
        - - text: "‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å"
            callback_data: "finish"
    next_step: end

  # === –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô –ö–û–ù–ï–¶ ===
  - id: end
    type: end

# === –ü–†–ò–ú–ï–† –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø ===
# 1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª: cp basic_scenario.yaml my_scenario.yaml
# 2. –ò–∑–º–µ–Ω–∏—Ç–µ scenario_id –Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π
# 3. –ê–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ —à–∞–≥–∏ –ø–æ–¥ –∑–∞–¥–∞—á—É
# 4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ API 