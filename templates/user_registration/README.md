# –®–∞–±–ª–æ–Ω: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ MongoDB —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –ø–æ–ª—è–º–∏.

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–≠—Ç–æ—Ç —à–∞–±–ª–æ–Ω —Å–æ–∑–¥–∞—ë—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π:
- –°–æ–±–∏—Ä–∞–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∏–º—è, email)
- –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∑–∞–ø–æ–ª–Ω–∏—Ç—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è (—Ç–µ–ª–µ—Ñ–æ–Ω, –≤–æ–∑—Ä–∞—Å—Ç, –≥–æ—Ä–æ–¥)
- –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –≤–≤–µ–¥—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ MongoDB
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

## üìã –ü–æ–ª—è –¥–∞–Ω–Ω—ã—Ö

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
- **–ò–º—è** - –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞
- **Email** - –±–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ @ –∏ —Ç–æ—á–∫–∏

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
- **–¢–µ–ª–µ—Ñ–æ–Ω** - –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å
- **–í–æ–∑—Ä–∞—Å—Ç** - —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 120, –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å
- **–ì–æ—Ä–æ–¥** - —Ç–µ–∫—Å—Ç, –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω
```bash
cp templates/user_registration/scenario.json scenarios/my_registration.json
```

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `initial_context` –≤ JSON —Ñ–∞–π–ª–µ:

```json
{
  "initial_context": {
    "greeting": "–í–∞—à–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ",
    "collection_name": "your_collection",
    "required_fields": ["name", "email", "custom_field"],
    "optional_fields": ["phone", "age", "city", "other_field"]
  }
}
```

### 3. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ –ø–æ–ª—è
–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –ø–æ–ª–µ:

1. **–î–æ–±–∞–≤—å—Ç–µ —à–∞–≥ –≤–≤–æ–¥–∞:**
```json
{
  "id": "get_new_field",
  "type": "input", 
  "params": {
    "prompt": "–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤–æ–µ –ø–æ–ª–µ:",
    "input_type": "text",
    "output_var": "new_field"
  },
  "next_step": "save_user"
}
```

2. **–û–±–Ω–æ–≤–∏—Ç–µ —à–∞–≥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:**
```json
{
  "id": "save_user",
  "type": "mongo_insert_one",
  "params": {
    "document": {
      "name": "{user_name}",
      "email": "{user_email}",
      "new_field": "{new_field}",
      "created_at": "{current_timestamp}"
    }
  }
}
```

### 4. –°–æ–∑–¥–∞–π—Ç–µ –∞–≥–µ–Ω—Ç–∞
```bash
curl -X POST "http://localhost:8000/api/v1/agents/" \
  -H "Content-Type: application/json" \
  -d @templates/user_registration/agent_config.json
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è
```bash
curl -X POST "http://localhost:8000/api/v1/scenarios/" \
  -H "Content-Type: application/json" \
  -d @scenarios/my_registration.json
```

### –°–æ–∑–¥–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞
```bash
curl -X POST "http://localhost:8000/api/v1/agents/" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–ê–≥–µ–Ω—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏",
    "scenario_id": "my_registration", 
    "plugins": ["MongoDBPlugin"],
    "initial_context": {}
  }'
```

### –ó–∞–ø—É—Å–∫ —Å—Ü–µ–Ω–∞—Ä–∏—è
```bash
# –ü–æ–ª—É—á–∏—Ç–µ agent_id –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –æ—Ç–≤–µ—Ç–∞
curl -X POST "http://localhost:8000/api/v1/agent-actions/{agent_id}/execute" \
  -H "Content-Type: application/json" \
  -d '{}'
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ MongoDB

–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –¥–æ–∫—É–º–µ–Ω—Ç:

```json
{
  "_id": "ObjectId(...)",
  "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
  "email": "ivan@example.com", 
  "phone": "+7900123456",
  "age": "25",
  "city": "–ú–æ—Å–∫–≤–∞",
  "registration_date": "2024-12-01T10:30:00Z",
  "status": "active"
}
```

## üîÄ –í–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ –∏–º—è –∏ email)
–£–¥–∞–ª–∏—Ç–µ —à–∞–≥–∏ `get_phone`, `get_age`, `get_city` –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏.

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
–î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—è: –ø—Ä–æ—Ñ–µ—Å—Å–∏—è, –∏–Ω—Ç–µ—Ä–µ—Å—ã, –∞–≤–∞—Ç–∞—Ä, —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ –∏ —Ç.–¥.

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º email
–î–æ–±–∞–≤—å—Ç–µ —à–∞–≥–∏ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–¥–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏ –µ–≥–æ –≤–∞–ª–∏–¥–∞—Ü–∏–∏.

### –ú–Ω–æ–≥–æ—à–∞–≥–æ–≤–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
–†–∞–∑–±–µ–π—Ç–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫—Ä–∞–Ω–æ–≤ —Å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º.

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: –î–æ–±–∞–≤—å—Ç–µ –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª—è production
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ
3. **GDPR**: –î–æ–±–∞–≤—å—Ç–µ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö
4. **–î—É–±–ª–∏–∫–∞—Ç—ã**: –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å email –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã

- `llm_chat` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏
- `survey` - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –≤—ã–±–æ—Ä–æ–º
- `orchestrator` - –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∫–∞–∫ –ø–æ–¥-—Å—Ü–µ–Ω–∞—Ä–∏–π 