# –®–ê–ë–õ–û–ù –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å
# –î–æ–±–∞–≤–∏—Ç—å —ç—Ç–∏ —à–∞–≥–∏ –≤ –∫–æ–Ω–µ—Ü –∫–∞–∂–¥–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è –º–æ–¥—É–ª—è

# –®–∞–≥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º–æ–¥—É–ª—è —Å –∫–Ω–æ–ø–∫–æ–π –≤–æ–∑–≤—Ä–∞—Ç–∞
  - id: module_complete
    type: channel_action
    params:
      action: send_buttons
      chat_id: "{chat_id}"
      text: |
        ‚úÖ **–ú–æ–¥—É–ª—å –∑–∞–≤–µ—Ä—à–µ–Ω!**
        
        –ß—Ç–æ –¥–∞–ª—å—à–µ?
      buttons:
        - - text: "üè† –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"
            callback_data: "return_to_router"
          - text: "üîÑ –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –º–æ–¥—É–ª—å"
            callback_data: "restart_module"
        - - text: "‚ùì –û–±—ä—è—Å–Ω–∏—Ç—å –¥—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏"
            callback_data: "explain_modules"
    next_step: handle_return_choice

  - id: handle_return_choice
    type: input
    params:
      waiting_for: callback_query
      timeout_seconds: 300
      timeout_step: module_complete
    next_step: process_return_choice

  - id: process_return_choice
    type: branch
    params:
      conditions:
        - condition: "context.get('callback_data') == 'return_to_router'"
          next_step: go_to_router
        - condition: "context.get('callback_data') == 'restart_module'"
          next_step: start  # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ç–µ–∫—É—â–µ–≥–æ –º–æ–¥—É–ª—è
        - condition: "context.get('callback_data') == 'explain_modules'"
          next_step: go_to_router
      default_next_step: go_to_router

  - id: go_to_router
    type: switch_scenario
    params:
      target_scenario: likeprovodnik_main_router_new
      preserve_context: true
    next_step: end

# –¢–ê–ö–ñ–ï –¥–æ–±–∞–≤–∏—Ç—å –≤ –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –∫–Ω–æ–ø–∫—É "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é" –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —à–∞–≥–∞—Ö 