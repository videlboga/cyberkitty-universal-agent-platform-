{
  "scenario_id": "ai_path_onboarding_flow",
  "name": "AI-–ü—É—Ç—å ‚Äî –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è (–±–∏–∑–Ω–µ—Å)",
  "description": "–û–Ω–±–æ—Ä–¥–∏–Ω–≥ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ –æ–±—É—á–µ–Ω–∏—è –¥–ª—è –±–∏–∑–Ω–µ—Å–∞",
  "version": "1.1",
  "initial_context": {},
  "steps": [
    {
      "id": "start",
      "type": "start",
      "next_step": "welcome_message"
    },
    {
      "id": "welcome_message",
      "type": "channel_action",
      "params": {
        "action": "send_message",
        "chat_id": "{chat_id}",
        "text": "–ü—Ä–∏–≤–µ—Ç! –Ø ‚Äî AI-–ü—É—Ç—å, —Ç–≤–æ–π –ª–∏—á–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —É—á–µ–±–Ω–æ–≥–æ –ø–ª–∞–Ω–∞. ‚úÖ\n–Ø –ø—Ä–æ–≤–µ–¥—É –∞–Ω–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–æ–º–æ–≥—É –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–≤–æ–∏ —Ü–µ–ª–∏ –∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã. üìù\n–ù–∞ –æ—Å–Ω–æ–≤–µ —Ç–≤–æ–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤ —è —Å–æ—Å—Ç–∞–≤–ª—é –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å —Ç–≤–æ–π —Ç–µ–º–ø. üé®\n–Ø –¥–∞–∂–µ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É—é —Ç–≤–æ–π –ø—É—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∏–ª–∏ –±–ª–æ–∫-—Å—Ö–µ–º, —á—Ç–æ–±—ã –±—ã–ª–æ –ø—Ä–æ—â–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å. üí™\n–î–∞–≤–∞–π –≤—ã—è—Å–Ω–∏–º, –∫—É–¥–∞ —Ç—ã —Ö–æ—á–µ—à—å –ø—Ä–∏–π—Ç–∏!",
        "parse_mode": "HTML"
      },
      "next_step": "ask_niche"
    },
    {
      "id": "ask_niche",
      "type": "channel_action",
      "params": {
        "action": "send_message",
        "chat_id": "{chat_id}",
        "text": "üè¢ –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–≤–æ–µ–π –Ω–∏—à–µ –≤ –±–∏–∑–Ω–µ—Å–µ. –ö–∞–∫–∞—è —Å—Ñ–µ—Ä–∞ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ?",
        "parse_mode": "HTML"
      },
      "next_step": "wait_niche"
    },
    {
      "id": "wait_niche",
      "type": "input",
      "params": {
        "input_type": "text",
        "timeout_seconds": 600,
        "output_var": "user_niche"
      },
      "next_step": "ask_income_a"
    },
    {
      "id": "ask_income_a",
      "type": "channel_action",
      "params": {
        "action": "send_message",
        "chat_id": "{chat_id}",
        "text": "üí∞ –ö–∞–∫–∞—è —Ç–≤–æ—è —Ç–µ–∫—É—â–∞—è —Ç–æ—á–∫–∞ –ê –≤ –¥–æ—Ö–æ–¥–µ? –ü–æ–¥–µ–ª–∏—Å—å —á–µ—Å—Ç–Ω–æ —Å–≤–æ–∏–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏!",
        "parse_mode": "HTML"
      },
      "next_step": "wait_income_a"
    },
    {
      "id": "wait_income_a",
      "type": "input",
      "params": {
        "input_type": "text",
        "timeout_seconds": 600,
        "output_var": "user_income_a"
      },
      "next_step": "ask_income_b"
    },
    {
      "id": "ask_income_b",
      "type": "channel_action",
      "params": {
        "action": "send_message",
        "chat_id": "{chat_id}",
        "text": "üöÄ –ö–∞–∫–æ–π —Ç–≤–æ–π –∂–µ–ª–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –¥–æ—Ö–æ–¥–µ? –û –∫–∞–∫–æ–π —Å—É–º–º–µ —Ç—ã –º–µ—á—Ç–∞–µ—à—å?",
        "parse_mode": "HTML"
      },
      "next_step": "wait_income_b"
    },
    {
      "id": "wait_income_b",
      "type": "input",
      "params": {
        "input_type": "text",
        "timeout_seconds": 600,
        "output_var": "user_income_b"
      },
      "next_step": "ask_time"
    },
    {
      "id": "ask_time",
      "type": "channel_action",
      "params": {
        "action": "send_message",
        "chat_id": "{chat_id}",
        "text": "‚è∞ –°–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –≤ –¥–µ–Ω—å —Ç—ã –≥–æ—Ç–æ–≤ —É–¥–µ–ª—è—Ç—å –æ–±—É—á–µ–Ω–∏—é? –ë—É–¥—å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–µ–Ω!",
        "parse_mode": "HTML"
      },
      "next_step": "wait_time"
    },
    {
      "id": "wait_time",
      "type": "input",
      "params": {
        "input_type": "text",
        "timeout_seconds": 600,
        "output_var": "user_time"
      },
      "next_step": "ask_barriers"
    },
    {
      "id": "ask_barriers",
      "type": "channel_action",
      "params": {
        "action": "send_message",
        "chat_id": "{chat_id}",
        "text": "üßó‚Äç‚ôÇÔ∏è –ï—Å—Ç—å –ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –º–µ—à–∞—é—â–∏–µ –¥–æ—Å—Ç–∏—á—å –∂–µ–ª–∞–µ–º–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞? –ö–∞–∫–∏–µ –±–∞—Ä—å–µ—Ä—ã —Ç–µ–±–µ –Ω—É–∂–Ω–æ –ø—Ä–µ–æ–¥–æ–ª–µ—Ç—å?",
        "parse_mode": "HTML"
      },
      "next_step": "wait_barriers"
    },
    {
      "id": "wait_barriers",
      "type": "input",
      "params": {
        "input_type": "text",
        "timeout_seconds": 600,
        "output_var": "user_barriers"
      },
      "next_step": "ask_ai_tasks"
    },
    {
      "id": "ask_ai_tasks",
      "type": "channel_action",
      "params": {
        "action": "send_message",
        "chat_id": "{chat_id}",
        "text": "ü§ñ –ö–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ —Ç—ã —Ö–æ—Ç–µ–ª –±—ã —Ä–µ—à–∏—Ç—å —Å –ø–æ–º–æ—â—å—é –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞? –ß—Ç–æ —Ö–æ—á–µ—à—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å?",
        "parse_mode": "HTML"
      },
      "next_step": "wait_ai_tasks"
    },
    {
      "id": "wait_ai_tasks",
      "type": "input",
      "params": {
        "input_type": "text",
        "timeout_seconds": 600,
        "output_var": "user_ai_tasks"
      },
      "next_step": "ask_it_level"
    },
    {
      "id": "ask_it_level",
      "type": "channel_action",
      "params": {
        "action": "send_message",
        "chat_id": "{chat_id}",
        "text": "üíª –ö–∞–∫–æ–π —É—Ä–æ–≤–µ–Ω—å —Ç–≤–æ–µ–≥–æ –æ–ø—ã—Ç–∞ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞? –ù–µ —Å—Ç–µ—Å–Ω—è–π—Å—è –±—ã—Ç—å —á–µ—Å—Ç–Ω—ã–º!",
        "parse_mode": "HTML"
      },
      "next_step": "wait_it_level"
    },
    {
      "id": "wait_it_level",
      "type": "input",
      "params": {
        "input_type": "text",
        "timeout_seconds": 600,
        "output_var": "user_it_level"
      },
      "next_step": "ask_results"
    },
    {
      "id": "ask_results",
      "type": "channel_action",
      "params": {
        "action": "send_message",
        "chat_id": "{chat_id}",
        "text": "üéØ –ö–∞–∫–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç—ã —Ö–æ—á–µ—à—å –ø–æ–ª—É—á–∏—Ç—å –æ—Ç –æ–±—É—á–µ–Ω–∏—è? –ß–µ–≥–æ —Ö–æ—á–µ—à—å –¥–æ—Å—Ç–∏—á—å?",
        "parse_mode": "HTML"
      },
      "next_step": "wait_results"
    },
    {
      "id": "wait_results",
      "type": "input",
      "params": {
        "input_type": "text",
        "timeout_seconds": 600,
        "output_var": "user_results"
      },
      "next_step": "processing_message"
    },
    {
      "id": "processing_message",
      "type": "channel_action",
      "params": {
        "action": "send_message",
        "chat_id": "{chat_id}",
        "text": "üîÑ –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é —Ç–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã...\n\n–°–æ–∑–¥–∞—é –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–≤–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∫—É—Ä—Å–∞. –≠—Ç–æ –∑–∞–π–º–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥...",
        "parse_mode": "HTML"
      },
      "next_step": "search_materials"
    },
    {
      "id": "search_materials",
      "type": "switch_scenario",
      "params": {
        "target_scenario": "atomic_rag_search",
        "preserve_context": true
      },
      "next_step": "generate_plan"
    },
    {
      "id": "generate_plan",
      "type": "switch_scenario",
      "params": {
        "target_scenario": "atomic_llm_query",
        "preserve_context": true
      },
      "next_step": "save_profile"
    },
    {
      "id": "save_profile",
      "type": "switch_scenario",
      "params": {
        "target_scenario": "atomic_mongo_save_data",
        "preserve_context": true
      },
      "next_step": "send_plan"
    },
    {
      "id": "send_plan",
      "type": "channel_action",
      "params": {
        "action": "send_message",
        "chat_id": "{chat_id}",
        "text": "üéì <b>–¢–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è –≥–æ—Ç–æ–≤!</b>\n\n{learning_plan}\n\nüí° <i>–¢–µ–ø–µ—Ä—å —Ç—ã –º–æ–∂–µ—à—å –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤—Å–µ–º–∏ –º–æ–¥—É–ª—è–º–∏ –õ–∞–π–∫–ü—Ä–æ–≤–æ–¥–Ω–∏–∫–∞. –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –º–Ω–µ —á—Ç–æ —Ç–µ–±—è –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç!</i>",
        "parse_mode": "HTML"
      },
      "next_step": "generate_mindmap"
    },
    {
      "id": "generate_mindmap",
      "type": "switch_scenario",
      "params": {
        "target_scenario": "atomic_llm_query",
        "preserve_context": true
      },
      "next_step": "kroki_request"
    },
    {
      "id": "kroki_request",
      "type": "switch_scenario",
      "params": {
        "target_scenario": "atomic_kroki_plantuml_png",
        "preserve_context": true
      },
      "next_step": "send_mindmap"
    },
    {
      "id": "send_mindmap",
      "type": "switch_scenario",
      "params": {
        "target_scenario": "atomic_telegram_send_photo",
        "preserve_context": true
      },
      "next_step": "onboarding_complete"
    },
    {
      "id": "onboarding_complete",
      "type": "channel_action",
      "params": {
        "action": "send_message",
        "chat_id": "{chat_id}",
        "text": "üéâ <b>–û–Ω–±–æ—Ä–¥–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω!</b>\n\nüí° <i>–¢–µ–ø–µ—Ä—å —Ç—ã –º–æ–∂–µ—à—å –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤—Å–µ–º–∏ –º–æ–¥—É–ª—è–º–∏ –õ–∞–π–∫–ü—Ä–æ–≤–æ–¥–Ω–∏–∫–∞. –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –º–Ω–µ —á—Ç–æ —Ç–µ–±—è –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç!</i>\n\nüöÄ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∏—Ä AI-–æ–±—É—á–µ–Ω–∏—è!",
        "parse_mode": "HTML"
      },
      "next_step": "end"
    },
    {
      "id": "end",
      "type": "end"
    }
  ]
}