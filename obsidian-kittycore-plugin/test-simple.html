<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>–ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç –∫–Ω–æ–ø–∫–∏</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background: #0f1419; 
            color: #fff; 
        }
        button { 
            background: #0088ff; 
            color: white; 
            padding: 12px 20px; 
            border: none; 
            border-radius: 6px; 
            cursor: pointer; 
            margin: 10px; 
            font-size: 14px; 
        }
        button:hover { background: #0066cc; }
        button:disabled { background: #666; cursor: not-allowed; }
        .log { 
            background: #1a1f2e; 
            padding: 10px; 
            border-radius: 5px; 
            margin: 10px 0; 
            font-family: monospace; 
            max-height: 300px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <h1>üß™ –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç –∫–Ω–æ–ø–∫–∏ KittyCore</h1>
    
    <button id="mainBtn">‚ö° –î–∞—Ç—å –∞–≥–µ–Ω—Ç–∞–º –∑–∞–¥–∞—á—É</button>
    
    <div id="log" class="log">–õ–æ–≥–∏ –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å...</div>
    
    <script>
        function log(message) {
            const logEl = document.getElementById('log');
            const time = new Date().toLocaleTimeString();
            logEl.innerHTML += `<br/>[${time}] ${message}`;
            logEl.scrollTop = logEl.scrollHeight;
        }
        
        async function executeTask() {
            log('üöÄ executeTask –≤—ã–∑–≤–∞–Ω');
            
            const task = prompt("–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏:");
            if (!task) {
                log('‚ùå –ó–∞–¥–∞—á–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º');
                return;
            }
            
            log(`üìù –ü–æ–ª—É—á–µ–Ω–∞ –∑–∞–¥–∞—á–∞: ${task}`);
            
            try {
                log('üîó –ü—Ä–æ–≤–µ—Ä—è–µ–º API...');
                const response = await fetch('http://localhost:8003/api/status');
                if (response.ok) {
                    const data = await response.json();
                    log(`‚úÖ API –¥–æ—Å—Ç—É–ø–µ–Ω: ${data.status} v${data.version}`);
                    log(`üìã –ó–∞–¥–∞—á–∞ "${task}" –±—ã–ª–∞ –±—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ KittyCore`);
                } else {
                    log(`‚ùå API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: ${response.status}`);
                }
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ API: ${error.message}`);
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            const button = document.getElementById('mainBtn');
            
            const handleClick = async (e) => {
                e.preventDefault();
                e.stopPropagation();
                
                log('üñ±Ô∏è –ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞!');
                
                // –ë–ª–æ–∫–∏—Ä—É–µ–º –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –Ω–∞–∂–∞—Ç–∏—è
                button.disabled = true;
                button.textContent = "‚è≥ –û–±—Ä–∞–±–æ—Ç–∫–∞...";
                
                try {
                    await executeTask();
                } catch (error) {
                    log(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`);
                } finally {
                    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
                    button.disabled = false;
                    button.textContent = "‚ö° –î–∞—Ç—å –∞–≥–µ–Ω—Ç–∞–º –∑–∞–¥–∞—á—É";
                }
            };
            
            button.addEventListener('click', handleClick);
            log('‚úÖ –ö–Ω–æ–ø–∫–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ');
        });
    </script>
</body>
</html> 